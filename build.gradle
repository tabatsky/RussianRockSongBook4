buildscript {
    ext {
        versions = [
                kotlin : '1.8.21',
                coreKtx : '1.10.1',
                appCompat : '1.6.1',
                material : '1.9.0',
                coroutines : '1.6.4',
                compose : '1.4.3',
                composeCompiler : '1.4.7',
                composeMaterial3: '1.1.1',
                tv : "1.0.0-alpha01",
                pagingCompose : '1.0.0-alpha17',
                lifecycle : '2.5.1',
                navigationCompose : '2.6.0',
                activityCompose : '1.7.2',
                hilt : '2.46.1',
                hiltExtensions : '1.3.0',
                hiltNavigationCompose: '1.0.0',
                room : '2.4.3',
                retrofit : '2.9.0',
                rxjava : '2.2.21',
                rxandroid : '2.1.1',
                gson : '2.9.1',
                commonsLang : '3.12.0',
                documentFile : '1.0.1',
                billing : '5.0.0',
                junit : '4.13.2',
                mockk : '1.13.5',
                coroutinesTest : '1.6.1',
                coreTesting : '2.1.0'
        ]
        gradlePlugins = [
                android: 'com.android.tools.build:gradle:8.0.2',
                kotlin: "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}",
                hiltAndroid: "com.google.dagger:hilt-android-gradle-plugin:${versions.hilt}"
        ]
        commonDeps = [
                coroutines: "org.jetbrains.kotlinx:kotlinx-coroutines-core:${versions.coroutines}",
                coreKtx: "androidx.core:core-ktx:${versions.coreKtx}",
                appCompat: "androidx.appcompat:appcompat:${versions.appCompat}",
                material: "com.google.android.material:material:${versions.material}",
                activityCompose: "androidx.activity:activity-compose:${versions.activityCompose}",
                composeUi: "androidx.compose.ui:ui:${versions.compose}",
                composeMaterial: "androidx.compose.material:material:${versions.compose}",
                composeMaterial3: "androidx.compose.material3:material3:${versions.composeMaterial3}",
                composeUiTooling: "androidx.compose.ui:ui-tooling:${versions.compose}",
                navigationCompose: "androidx.navigation:navigation-compose:${versions.navigationCompose}",
                pagingCompose: "androidx.paging:paging-compose:${versions.pagingCompose}",
                lifecycleRuntime: "androidx.lifecycle:lifecycle-runtime-ktx:${versions.lifecycle}",
                lifecycleViewmodel: "androidx.lifecycle:lifecycle-viewmodel-ktx:${versions.lifecycle}",
                commonsLang: "org.apache.commons:commons-lang3:${versions.commonsLang}",
                gson: "com.google.code.gson:gson:${versions.gson}",
                documentFile: "androidx.documentfile:documentfile:${versions.documentFile}"
        ]
        diDeps = [
                hiltAndroid: "com.google.dagger:hilt-android:${versions.hilt}",
                hiltCompiler: "com.google.dagger:hilt-compiler:${versions.hilt}",
                hiltExtensions: "it.czerwinski.android.hilt:hilt-extensions:${versions.hiltExtensions}",
                hiltExtensionsProcessor: "it.czerwinski.android.hilt:hilt-processor:${versions.hiltExtensions}",
                hiltNavigationCompose: "androidx.hilt:hilt-navigation-compose:${versions.hiltNavigationCompose}"
        ]
        roomDeps = [
                roomRuntime: "androidx.room:room-runtime:${versions.room}",
                roomKtx: "androidx.room:room-ktx:${versions.room}",
                roomCompiler: "androidx.room:room-compiler:${versions.room}"
        ]
        networkDeps = [
                retrofit: "com.squareup.retrofit2:retrofit:${versions.retrofit}",
                retrofitConverterGson: "com.squareup.retrofit2:converter-gson:${versions.retrofit}",
                retrofitAdapterRxJava: "com.squareup.retrofit2:adapter-rxjava2:${versions.retrofit}"
        ]
        rxDeps = [
                rxJava: "io.reactivex.rxjava2:rxjava:${versions.rxjava}",
                rxAndroid: "io.reactivex.rxjava2:rxandroid:${versions.rxandroid}"
        ]
        tvDeps = [
                tvFoundation: "androidx.tv:tv-foundation:${versions.tv}",
                tvMaterial: "androidx.tv:tv-material:${versions.tv}"
        ]
        billingDeps = [
                billing: "com.android.billingclient:billing:${versions.billing}",
                billingKtx: "com.android.billingclient:billing-ktx:${versions.billing}"
        ]
        testDeps = [
                hiltAndroidTesting: "com.google.dagger:hilt-android-testing:${versions.hilt}",
                hiltAndroidCompiler: "com.google.dagger:hilt-android-compiler:${versions.hilt}",
                composeUiTest: "androidx.compose.ui:ui-test:${versions.compose}",
                composeUiTestJunit: "androidx.compose.ui:ui-test-junit4:${versions.compose}",
                composeUiTestManifest: "androidx.compose.ui:ui-test-manifest:${versions.compose}",
                kotlinReflect: "org.jetbrains.kotlin:kotlin-reflect:${versions.kotlin}",
                junit: "junit:junit:${versions.junit}",
                mockk: "io.mockk:mockk:${versions.mockk}",
                coroutinesTest: "org.jetbrains.kotlinx:kotlinx-coroutines-test:${versions.coroutinesTest}",
                coreTesting: "androidx.arch.core:core-testing:${versions.coreTesting}",
                androidXCore: 'androidx.test:core:1.4.0',
                androidXRunner: 'androidx.test:runner:1.4.0',
                androidXRules: 'androidx.test:rules:1.4.0',
                androidXTruth: 'androidx.test.ext:truth:1.4.0',
                androidXJUnit: 'androidx.test.ext:junit:1.1.3',
                androidXMonitor: "androidx.test:monitor:1.6.1",
                androidXCoreTesting: 'androidx.arch.core:core-testing:2.1.0',
                espressoCore: 'androidx.test.espresso:espresso-core:3.4.0',
                espressoContrib: 'androidx.test.espresso:espresso-contrib:3.4.0'
        ]
    }
    repositories {
        google()
        mavenCentral()
        maven {
            url  "https://oss.sonatype.org/content/repositories/snapshots"
            content {
                includeModule("com.google.dagger", "hilt-android-gradle-plugin")
            }
        }
    }
    dependencies {
        classpath gradlePlugins.android
        classpath gradlePlugins.kotlin
        classpath gradlePlugins.hiltAndroid
    }
}

allprojects {
    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {
        kotlinOptions {
            freeCompilerArgs += [
                    "-opt-in=androidx.compose.animation.ExperimentalAnimationApi",
                    "-opt-in=androidx.compose.foundation.ExperimentalFoundationApi",
                    "-opt-in=androidx.compose.material.ExperimentalMaterialApi",
                    "-opt-in=androidx.compose.runtime.ExperimentalComposeApi",
                    "-opt-in=androidx.compose.ui.ExperimentalComposeUiApi",
                    "-opt-in=com.google.accompanist.navigation.material.ExperimentalMaterialNavigationApi",
                    "-opt-in=com.google.accompanist.pager.ExperimentalPagerApi",
                    "-opt-in=com.google.accompanist.permissions.ExperimentalPermissionsApi",
                    "-opt-in=kotlin.ExperimentalUnsignedTypes",
                    "-opt-in=kotlinx.coroutines.ExperimentalCoroutinesApi",
                    "-opt-in=kotlinx.coroutines.InternalCoroutinesApi"
            ]
        }
    }
    repositories {
        google()
        mavenCentral()
        jcenter() // Warning: this repository is going to shut down soon

        maven {
            url  "https://oss.sonatype.org/content/repositories/snapshots"
            content {
                includeModule("com.google.dagger", "hilt-android-gradle-plugin")
            }
        }
        maven { url "https://jitpack.io" }
    }
}
